# 🚀 한국투자증권 API로 업그레이드하기

Yahoo Finance에서 한국투자증권 API로 업그레이드하는 방법입니다.

---

## 📊 업그레이드하면 좋은 점

### Yahoo Finance (현재)
- ✅ 무료, API 키 불필요
- ⚠️ 데이터 지연 있음
- ⚠️ 일부 데이터 누락 가능
- ❌ 매매 기능 없음

### 한국투자증권 (업그레이드 후)
- ✅ 실시간 정확한 데이터
- ✅ 모의투자 지원
- ✅ 실전 매매 가능
- ✅ 한국 주식 완벽 지원
- ✅ 여전히 무료!

---

## 1단계: 한국투자증권 API 발급

### 1-1. 계좌 개설
1. [한국투자증권](https://securities.koreainvestment.com/) 방문
2. 비대면 계좌 개설 (모바일 앱 또는 웹)
3. 신분증 준비 (5-10분 소요)

### 1-2. API 신청
1. [KIS Developers](https://apiportal.koreainvestment.com/) 접속
2. 계좌 정보로 로그인
3. "API 신청" 클릭

### 1-3. 모의투자 or 실전투자 선택
**추천: 모의투자로 시작!**
- 모의투자: 가상 자금으로 안전하게 테스트
- 실전투자: 실제 매매 가능 (충분한 테스트 후 권장)

### 1-4. 앱 키 발급
1. 신청 승인 후 (보통 즉시)
2. "내 앱" 메뉴에서 앱 키 확인
3. 다음 정보 복사:
   ```
   APP_KEY: KR****************
   APP_SECRET: ********************
   ```

⚠️ **중요**: 이 키는 절대 공개하지 마세요!

---

## 2단계: GitHub 코드 업데이트

### 2-1. 파일 교체

GitHub 저장소에서:

1. `api/scan.js` 파일 삭제
2. `api/scan-kis.js` 파일을 `api/scan.js`로 이름 변경

또는 Git 명령어:
```bash
cd your-project-folder
rm api/scan.js
mv api/scan-kis.js api/scan.js
git add .
git commit -m "Upgrade to Korea Investment Securities API"
git push
```

### 2-2. 프론트엔드 업데이트 (선택사항)

`public/index.html`에서 데이터 출처 표시 변경:
```html
<!-- 변경 전 -->
<p>📊 데이터 출처: Yahoo Finance (무료)</p>

<!-- 변경 후 -->
<p>📊 데이터 출처: 한국투자증권 (실시간)</p>
```

---

## 3단계: Vercel 환경변수 설정

### 3-1. Vercel 대시보드 접속
1. [Vercel](https://vercel.com) 로그인
2. 프로젝트 선택

### 3-2. 환경변수 추가
1. "Settings" 탭 클릭
2. 왼쪽 메뉴에서 "Environment Variables" 클릭
3. 다음 변수 추가:

| Name | Value |
|------|-------|
| `KIS_APP_KEY` | 1단계에서 복사한 APP_KEY |
| `KIS_APP_SECRET` | 1단계에서 복사한 APP_SECRET |

4. "Add" 버튼 클릭

### 3-3. 재배포
1. "Deployments" 탭 클릭
2. 최신 배포 옆의 "..." 클릭
3. "Redeploy" 선택
4. 1-2분 대기

---

## 4단계: 테스트

### 4-1. 사이트 접속
- 기존 URL 그대로 사용
- 페이지 새로고침

### 4-2. 작동 확인
1. "API 연결됨" 상태 확인
2. "종목 검색 시작" 클릭
3. 결과 확인:
   - 더 정확한 주가
   - 실시간 거래량
   - 한국 주식 완벽 지원

---

## 🎯 업그레이드 완료!

축하합니다! 이제 실시간 정확한 데이터를 사용합니다.

### 다음 단계:
1. **전략 검증**: 모의투자로 충분히 테스트
2. **조건 최적화**: 본인에게 맞는 조건 찾기
3. **실전 투자**: 충분한 테스트 후 실전 계좌로 전환

---

## ⚠️ 주의사항

### API 호출 제한
- 한국투자증권 API는 일일 호출 제한이 있습니다
- 너무 자주 검색하지 마세요 (1일 10-20회 권장)

### 모의투자 → 실전투자 전환
1. 모의투자로 최소 1-2개월 테스트
2. 승률과 수익률 확인
3. 실전 계좌로 전환 시 신중하게 접근

### 보안
- API 키를 절대 공개하지 마세요
- GitHub에 커밋하지 마세요 (.gitignore 확인)
- 정기적으로 키 재발급 권장

---

## 🆘 문제 해결

### "API 키가 설정되지 않았습니다"
→ Vercel 환경변수 다시 확인 및 재배포

### "Failed to get access token"
→ API 키가 정확한지 확인, KIS Developers에서 키 상태 확인

### 종목이 하나도 안 나옴
→ 조건을 완화하거나, API 호출 제한 확인

---

## 📞 추가 지원

- 한국투자증권 API 문서: https://apiportal.koreainvestment.com/
- GitHub Issues: 프로젝트 저장소에 질문 남기기
- KIS 고객센터: 1544-5000

---

**업그레이드 성공을 기원합니다! 📈✨**
